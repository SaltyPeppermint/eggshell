mod rules;

use egg::{Analysis, DidMerge, EGraph, Id, Language, RecExpr, Rewrite, Symbol};

use hashbrown::HashSet;
use rules::mm_rules;
use serde::{Deserialize, Serialize};

#[derive(Debug, PartialEq, Eq, PartialOrd, Ord, Clone, Hash, Copy, Serialize, Deserialize)]
pub struct Index(pub u32);

impl std::str::FromStr for Index {
    type Err = Option<std::num::ParseIntError>;

    fn from_str(s: &str) -> Result<Self, Self::Err> {
        if let Some(stripped_s) = s.strip_prefix("%") {
            stripped_s.parse().map(Index).map_err(Some)
        } else {
            Err(None)
        }
    }
}

impl std::fmt::Display for Index {
    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
        write!(f, "%{}", self.0)
    }
}

egg::define_language! {
  #[derive(Serialize, Deserialize)]
  pub enum Rise {
    Var(Index),
    "app" = App([Id; 2]),
    "lam" = Lambda(Id),
    "typeOf" = TypeOf([Id; 2]),

    "fun" = FunType([Id; 2]),
    "arrT" = ArrType([Id; 2]),
    "vecT" = VecType([Id; 2]),
    "pairT" = PairType([Id; 2]),
    "idxT" = IndexType(Id),
    "natT" = NatType,

    "f32" = F32,

    "toMem" = ToMem,
    "split" = Split,
    "join" = Join,

    "natAdd" = NatAdd([Id; 2]),
    "natSub" = NatSub([Id; 2]),
    "natMul" = NatMul([Id; 2]),
    "natDiv" = NatDiv([Id; 2]),
    "natPow" = NatPow([Id; 2]),

    "asVector" = AsVector,
    "asScalar" = AsScalar,

    "snd" = Snd,
    "fst" = Fst,

    "generate" = Generate,
    "transpose" = Transpose,
    "unzip" = Unzip,
    "zip" = Zip,
    "mapPar" = MapPar,
    "reduce" = Reduce,
    "reduceSeq" = ReduceSeq,
    "reduceSeqUnroll" = ReduceSeqUnroll,
    // to implement explicit substitution:
    // "sig" = Sigma([Id; 3]),
    // "phi" = Phi([Id; 3]),

    Integer(i32),
    // Float(f32),
    // Double(f64),
    Symbol(Symbol),
  }
}

#[derive(Default, Debug)]
pub struct RiseAnalysis;

#[derive(Default, Debug)]
pub struct AnalysisData {
    pub free: HashSet<Index>,
    pub beta_extract: RecExpr<Rise>,
}

impl Analysis<Rise> for RiseAnalysis {
    type Data = AnalysisData;

    fn merge(&mut self, to: &mut AnalysisData, from: AnalysisData) -> DidMerge {
        let before_len = to.free.len();
        to.free.extend(from.free);
        let mut did_change = before_len != to.free.len();
        if !from.beta_extract.as_ref().is_empty()
            && (to.beta_extract.as_ref().is_empty()
                || to.beta_extract.as_ref().len() > from.beta_extract.as_ref().len())
        {
            to.beta_extract = from.beta_extract;
            did_change = true;
        }
        DidMerge(did_change, true) // TODO: more precise second bool
    }

    fn make(egraph: &mut EGraph<Rise, RiseAnalysis>, enode: &Rise) -> AnalysisData {
        let mut free = HashSet::default();
        match enode {
            Rise::Var(v) => {
                free.insert(*v);
            }
            Rise::Lambda(a) => {
                free.extend(
                    egraph[*a]
                        .data
                        .free
                        .iter()
                        .copied()
                        .filter(|&idx| idx != Index(0))
                        .map(|idx| Index(idx.0 - 1)),
                );
            }
            _ => {
                enode.for_each(|c| free.extend(&egraph[c].data.free));
            }
        }
        let empty = enode.any(|id| egraph[id].data.beta_extract.as_ref().is_empty());
        let beta_extract = if empty {
            vec![].into()
        } else {
            enode.join_recexprs(|id| egraph[id].data.beta_extract.as_ref())
        };
        AnalysisData { free, beta_extract }
    }
}

#[derive(Copy, Clone, Eq, PartialEq, Debug, Hash)]
pub enum RiseRuleset {
    MM,
}

#[must_use]
pub fn rules(ruleset: RiseRuleset) -> Vec<Rewrite<Rise, RiseAnalysis>> {
    match ruleset {
        RiseRuleset::MM => mm_rules(),
    }
}

#[cfg(test)]
mod test {

    use egg::RecExpr;

    use super::*;

    #[test]
    fn mm_test() {
        let mm: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT %3) f32))) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT %4) (app (app arrT %3) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) f32)) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduce (app (app fun (app (app fun f32) (app (app fun f32) f32))) (app (app fun f32) (app (app fun (app (app arrT %4) f32)) f32)))) (typeOf add (app (app fun f32) (app (app fun f32) f32)))) (app (app fun f32) (app (app fun (app (app arrT %4) f32)) f32))) (typeOf 0.0 f32)) (app (app fun (app (app arrT %4) f32)) f32)) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT f32) f32)) f32)) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT %4) f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf mul (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) f32)) f32)) (typeOf %3 (app (app pairT f32) f32))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) f32)) f32)) (typeOf %3 (app (app pairT f32) f32))) f32)) f32)) (app (app fun (app (app pairT f32) f32)) f32))) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT %4) f32))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT %4) f32))) f32)) (app (app fun (app (app arrT %3) f32)) f32))) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) f32))) (app (app fun (app (app arrT %2) f32)) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("mm nodes: {}", mm.len());

        let baseline: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT %3) f32))) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT %4) (app (app arrT %3) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) f32)) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun f32) (app (app fun (app (app pairT f32) f32)) f32))) (app (app fun f32) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) f32)))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun f32) (app (app fun f32) f32))) (typeOf %4 f32)) (app (app fun f32) f32)) (typeOf (app (typeOf (lam (typeOf (app (typeOf (app (typeOf mul (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) f32)) f32)) (typeOf %3 (app (app pairT f32) f32))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) f32)) f32)) (typeOf %3 (app (app pairT f32) f32))) f32)) f32)) (app (app fun (app (app pairT f32) f32)) f32)) (typeOf %3 (app (app pairT f32) f32))) f32)) f32)) (app (app fun (app (app pairT f32) f32)) f32))) (app (app fun f32) (app (app fun (app (app pairT f32) f32)) f32)))) (app (app fun f32) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) f32))) (typeOf 0.0 f32)) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) f32)) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) f32)) (app (app fun (app (app arrT %3) f32)) f32))) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) f32))) (app (app fun (app (app arrT %2) f32)) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("baseline nodes: {}", baseline.len());

        let mm_after_split: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT %3) f32))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))) (app (app arrT %4) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) f32)) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun f32) (app (app fun (app (app arrT 4) (app (app pairT f32) f32))) f32))) (app (app fun f32) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))) f32)))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun f32) (app (app fun f32) f32))) (typeOf %4 f32)) (app (app fun f32) f32)) (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun f32) (app (app fun (app (app pairT f32) f32)) f32))) (app (app fun f32) (app (app fun (app (app arrT 4) (app (app pairT f32) f32))) f32)))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun f32) (app (app fun f32) f32))) (typeOf %4 f32)) (app (app fun f32) f32)) (typeOf (app (typeOf (app (typeOf mul (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) f32)) f32)) (typeOf %3 (app (app pairT f32) f32))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) f32)) f32)) (typeOf %3 (app (app pairT f32) f32))) f32)) f32)) f32)) (app (app fun (app (app pairT f32) f32)) f32))) (app (app fun f32) (app (app fun (app (app pairT f32) f32)) f32)))) (app (app fun f32) (app (app fun (app (app arrT 4) (app (app pairT f32) f32))) f32))) (typeOf 0.0 f32)) (app (app fun (app (app arrT 4) (app (app pairT f32) f32))) f32)) (typeOf %3 (app (app arrT 4) (app (app pairT f32) f32)))) f32)) f32)) (app (app fun (app (app arrT 4) (app (app pairT f32) f32))) f32))) (app (app fun f32) (app (app fun (app (app arrT 4) (app (app pairT f32) f32))) f32)))) (app (app fun f32) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))) f32))) (typeOf 0.0 f32)) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))) f32)) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) f32)) (app (app fun (app (app arrT %3) f32)) f32))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (app (app arrT %4) f32))) (app (app fun (app (app arrT %2) f32)) (app (app arrT %3) f32)))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("split nodes: {}", mm_after_split.len());

        // "blocking"
        let mm_after_reorder1: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))))) (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32)) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf (app (typeOf mul (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) f32)) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) (app (app pairT f32) f32))) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT f32) f32))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) f32)) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) (app (app pairT f32) f32))) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT f32) f32))) f32)) f32)) f32)) (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (lam (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT %4) f32))) (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %4) f32))) (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app arrT %4) f32)))) (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("reorder1 nodes: {}", mm_after_reorder1.len());

        let mm_after_reorder2: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))))) (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32)) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf (app (typeOf mul (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) f32)) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) (app (app pairT f32) f32))) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT f32) f32))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) f32)) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) (app (app pairT f32) f32))) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT f32) f32))) f32)) f32)) f32)) (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("reorder2 nodes: {}", mm_after_reorder2.len());

        // "vectorization"
        let mm_after_lower1: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))))) (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf (app (typeOf mul (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %8) f32)) (app (app arrT 1) (app (app vecT %8) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %8) f32)) (app (app arrT 1) (app (app vecT %8) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %8) f32)) (app (app arrT 1) (app (app vecT %8) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (lam (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (lam (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app pairT (app (app arrT 32) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app arrT 4) (app (app arrT 32) (app (app arrT 32) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (lam (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT %4) f32))) (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %4) f32))) (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app arrT %4) f32)))) (app (app arrT 32) (app (app arrT %4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("lower1 nodes: {}", mm_after_lower1.len());

        // "loop-perm"
        let mm_after_lower2: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))))) (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf (app (typeOf mul (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %8) f32)) (app (app arrT 1) (app (app vecT %8) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %8) f32)) (app (app arrT 1) (app (app vecT %8) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %8) f32)) (app (app arrT 1) (app (app vecT %8) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("lower2 nodes: {}", mm_after_lower2.len());

        let mm_after_store: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))) (app (app arrT %3) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32))))))) (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32)) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf (app (typeOf mul (app (app fun f32) (app (app fun f32) f32))) (typeOf (app (typeOf fst (app (app fun (app (app pairT f32) f32)) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) (app (app pairT f32) f32))) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT f32) f32))) f32)) (app (app fun f32) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) f32)) f32)) (typeOf (app (typeOf snd (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) (app (app pairT f32) f32))) (typeOf %3 (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT f32) f32))) f32)) f32)) f32)) (app (app fun (app (app pairT f32) (app (app pairT f32) f32))) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf let (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32))))) (typeOf (app (typeOf toMem (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) (app (app arrT 32) f32))) (app (app arrT %3) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32)))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app fun (app (app arrT %3) (app (app arrT 32) f32))) (app (app arrT %3) (app (app arrT 32) f32))))) (typeOf (app (typeOf map (app (app fun (app (app fun f32) f32)) (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (lam (typeOf %3 f32)) (app (app fun f32) f32))) (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app fun (app (app arrT %3) (app (app arrT 32) f32))) (app (app arrT %3) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT %3) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32)))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT %3) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT %3) (app (app arrT 32) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (lam (typeOf %3 (app (app arrT %5) (app (app arrT %4) f32)))) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT 32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("store nodes: {}", mm_after_store.len());

        // "array-packing"
        let mm_after_lower3: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))) (app (app arrT %4) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf (app (typeOf mul (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))))) (app (app arrT 32) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf let (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32))))) (typeOf (app (typeOf toMem (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf mapPar (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (lam (typeOf (app (typeOf transpose (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT %4) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT %4) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf %3 (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %5) f32)) (app (app arrT 1) (app (app vecT %5) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf %3 (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT %4) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT 32) f32)))) (typeOf %3 (app (app arrT 32) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT 32) f32)))) (app (app arrT %4) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (lam (typeOf %3 (app (app arrT %5) (app (app arrT %4) f32)))) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("lower3 nodes: {}", mm_after_lower3.len());

        // "cache-blocks"
        let mm_after_lower4: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))) (app (app arrT %4) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeqUnroll (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf (app (typeOf mul (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))))) (app (app arrT 32) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf let (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32))))) (typeOf (app (typeOf toMem (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf mapPar (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (lam (typeOf (app (typeOf transpose (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT %4) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT %4) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf %3 (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %5) f32)) (app (app arrT 1) (app (app vecT %5) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf %3 (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT %4) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT 32) f32)))) (typeOf %3 (app (app arrT 32) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT 32) f32)))) (app (app arrT %4) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (lam (typeOf %3 (app (app arrT %5) (app (app arrT %4) f32)))) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("lower4 nodes {}", mm_after_lower4.len());

        // "parallel"
        let mm_after_lower5: RecExpr<Rise> = "(typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf mapPar (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))) (app (app arrT %4) f32))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32))))) (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (app (app fun (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeqUnroll (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf (app (typeOf mul (app (app fun (app (app vecT 32) f32)) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (typeOf %3 (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app vecT 32) f32))) (app (app fun (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %10) f32)) (app (app arrT 1) (app (app vecT %10) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) f32)))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32))))) (app (app arrT 1) (app (app pairT (app (app vecT 32) f32)) (app (app pairT (app (app vecT 32) f32)) (app (app vecT 32) f32)))))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32)))))) (typeOf %4 (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (typeOf %3 (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app pairT f32) f32))) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32)))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32)))) (app (app arrT 32) f32))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf unzip (app (app fun (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) f32)) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf fst (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (typeOf (app (typeOf snd (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf %3 (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT f32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 4) (app (app arrT 32) (app (app pairT f32) f32))))) (app (app arrT 32) f32))) (app (app fun (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %4 (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app pairT (app (app arrT 32) f32)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT 32) (app (app arrT 32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT 32) f32))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (lam (typeOf (app (typeOf generate (app (app fun (app (app fun (app idxT 32)) f32)) (app (app arrT 32) f32))) (typeOf (lam (typeOf 0.0 f32)) (app (app fun (app idxT 32)) f32))) (app (app arrT 32) f32))) (app (app fun (app idxT 32)) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 32) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT 32) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf %3 (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT 32) f32))))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) f32))))) (app (app arrT 32) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))))) (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 4) -1)) %4))) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %5)) (app (app arrT %4) (app (app pairT f32) f32)))))) 4) (app (app fun (app (app arrT %4) (app (app pairT f32) f32))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (typeOf (app (typeOf (app (typeOf zip (app (app fun (app (app arrT %4) f32)) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32))))) (typeOf %4 (app (app arrT %4) f32))) (app (app fun (app (app arrT %4) f32)) (app (app arrT %4) (app (app pairT f32) f32)))) (typeOf %3 (app (app arrT %4) f32))) (app (app arrT %4) (app (app pairT f32) f32)))) (app (app arrT (app (app mul (app (app pow 4) -1)) %4)) (app (app arrT 4) (app (app pairT f32) f32))))) (app (app fun (app (app arrT %3) f32)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32)))))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf let (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32))))) (typeOf (app (typeOf toMem (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf join (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (app (typeOf (app (typeOf mapPar (app (app fun (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))))) (typeOf (lam (typeOf (app (typeOf transpose (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT 32) (app (app arrT %4) f32)))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32))) (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT %4) (app (app arrT 32) f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 32) f32))) (typeOf (app (typeOf (app (typeOf map (app (app fun (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32))))) (typeOf (lam (typeOf %3 (app (app vecT 32) f32))) (app (app fun (app (app vecT 32) f32)) (app (app vecT 32) f32)))) (app (app fun (app (app arrT 1) (app (app vecT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf (app (typeOf (app (typeOf asVector (lam (app (app fun (app (app arrT %5) f32)) (app (app arrT 1) (app (app vecT %5) f32))))) 32) (app (app fun (app (app arrT 32) f32)) (app (app arrT 1) (app (app vecT 32) f32)))) (typeOf %3 (app (app arrT 32) f32))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 1) (app (app vecT 32) f32)))) (app (app arrT 32) f32))) (app (app fun (app (app arrT 32) f32)) (app (app arrT 32) f32)))) (app (app fun (app (app arrT %4) (app (app arrT 32) f32))) (app (app arrT %4) (app (app arrT 32) f32)))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT 32) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT 32) f32)))) (typeOf %3 (app (app arrT 32) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT 32) f32)))) (app (app arrT %4) (app (app arrT 32) f32)))) (app (app arrT 32) (app (app arrT %4) f32)))) (app (app fun (app (app arrT 32) (app (app arrT %3) f32))) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %3))) (app (app arrT %4) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %3) (app (app arrT %4) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (typeOf (app (typeOf transpose (app (app fun (app (app arrT %3) (app (app arrT %4) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf %4 (app (app arrT %3) (app (app arrT %4) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT %4) (app (app arrT %3) f32)))) (typeOf (lam (typeOf %3 (app (app arrT %5) (app (app arrT %4) f32)))) (app (app fun (app (app arrT %4) (app (app arrT %3) f32))) (app (app arrT %4) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT (app (app mul (app (app pow 4) -1)) %3)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))) (app (app fun (app (app arrT %2) f32)) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32)))))))) (app (app fun (app (app arrT 32) (app (app arrT %2) f32))) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app fun (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (typeOf (app (typeOf (app (typeOf split (lam (app (app fun (app (app arrT (app (app mul %5) (app (app mul (app (app pow 32) -1)) %2))) (app (app arrT %3) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %5)) (app (app arrT %2) (app (app arrT %3) f32)))))) 32) (app (app fun (app (app arrT %4) (app (app arrT %2) f32))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (typeOf %4 (app (app arrT %4) (app (app arrT %2) f32)))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %2) f32))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT (app (app mul (app (app pow 32) -1)) %3)) (app (app arrT (app (app mul (app (app pow 4) -1)) %2)) (app (app arrT 32) (app (app arrT 4) (app (app pairT f32) f32))))))))) (app (app arrT (app (app mul (app (app pow 32) -1)) %4)) (app (app arrT 32) (app (app arrT %3) f32))))) (app (app arrT %4) (app (app arrT %3) f32)))) (app (app fun (app (app arrT %1) (app (app arrT %2) f32))) (app (app arrT %3) (app (app arrT %2) f32))))) (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))) (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))) (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32)))))))) (lam (lam (lam (app (app fun (app (app arrT %2) (app (app arrT %0) f32))) (app (app fun (app (app arrT %0) (app (app arrT %1) f32))) (app (app arrT %2) (app (app arrT %1) f32))))))))".parse().unwrap();
        println!("lower5 nodes: {}", mm_after_lower5.len());
    }

    #[test]
    fn rules_test() {
        let rules = mm_rules();
        assert_eq!(27, rules.len());
    }
}
