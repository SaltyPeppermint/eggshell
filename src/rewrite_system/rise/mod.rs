mod analysis;
mod func;
mod indices;
mod kind;
mod lang;
mod nat;
mod pp;
mod rules;
mod shifted;

use egg::{Id, Language, RecExpr, Rewrite};

use crate::sketch::{Sketch, SketchLang};
use indices::{DBCutoff, DBIndex, DBShift};
use kind::{Kind, Kindable};

pub use analysis::RiseAnalysis;
pub use lang::Rise;
pub use pp::PrettyPrint;

#[derive(Copy, Clone, Eq, PartialEq, Debug, Hash)]
pub enum RiseRuleset {
    MM,
}

#[must_use]
pub fn rules(ruleset: RiseRuleset) -> Vec<Rewrite<Rise, RiseAnalysis>> {
    match ruleset {
        RiseRuleset::MM => rules::mm_rules(),
    }
}

fn build(rec_expr: &RecExpr<Rise>, id: Id) -> RecExpr<Rise> {
    rec_expr[id]
        .clone()
        .build_recexpr(|child_id| rec_expr[child_id].clone())
}

fn add_expr(to: &mut RecExpr<Rise>, e: RecExpr<Rise>) -> Id {
    let offset = to.len();
    for n in e {
        to.add(n.map_children(|id| Id::from(usize::from(id) + offset)));
    }
    to.root()
}

#[must_use]
pub fn sketchify(expr: &RecExpr<Rise>, sketchify_nat_expr: bool) -> Sketch<Rise> {
    fn rec(
        expr: &RecExpr<Rise>,
        id: Id,
        sketchify_nat_expr: bool,
        sketch: &mut Sketch<Rise>,
    ) -> Id {
        match &expr[id] {
            Rise::Var(_) => sketch.add(SketchLang::Any),
            other if other.is_nat() && sketchify_nat_expr => sketch.add(SketchLang::Any),
            other => {
                let new_node = SketchLang::Node(
                    other
                        .clone()
                        .map_children(|c_id| rec(expr, c_id, sketchify_nat_expr, sketch)),
                );
                sketch.add(new_node)
            }
        }
    }
    let mut sketch = RecExpr::default();
    rec(expr, expr.root(), sketchify_nat_expr, &mut sketch);
    sketch
}

#[must_use]
pub fn canon_nat(expr: &RecExpr<Rise>) -> RecExpr<Rise> {
    fn rec(expr: &RecExpr<Rise>, id: Id, canon_expr: &mut RecExpr<Rise>) -> Id {
        let node = &expr[id];
        if let Ok(canon_nat_expr) = nat::try_simplify(&node.build_recexpr(|i| expr[i].clone())) {
            add_expr(canon_expr, canon_nat_expr)
        } else {
            let new_node = node
                .clone()
                .map_children(|c_id| rec(expr, c_id, canon_expr));
            canon_expr.add(new_node)
        }
    }
    let mut canon_expr = RecExpr::default();
    rec(expr, expr.root(), &mut canon_expr);
    canon_expr
}

// START TERM
pub const MM: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT %n1 f32)) (fun (arrT %n2 (arrT %n0 f32)) (arrT %n2 (arrT %n1 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) f32) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduce (fun (fun f32 (fun f32 f32)) (fun f32 (fun (arrT %n0 f32) f32)))) (typeOf add (fun f32 (fun f32 f32)))) (fun f32 (fun (arrT %n0 f32) f32))) (typeOf 0.0 f32)) (fun (arrT %n0 f32) f32)) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT f32 f32) f32) (fun (arrT %n0 (pairT f32 f32)) (arrT %n0 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf mul (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 f32) f32)) (typeOf %e0 (pairT f32 f32))) f32)) (fun f32 f32)) (typeOf (app (typeOf snd (fun (pairT f32 f32) f32)) (typeOf %e0 (pairT f32 f32))) f32)) f32)) (fun (pairT f32 f32) f32))) (fun (arrT %n0 (pairT f32 f32)) (arrT %n0 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT %n0 f32))) f32)) (fun (arrT %n0 f32) f32))) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 f32))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT %n1 f32))) (fun (arrT %n0 f32) (arrT %n1 f32)))) (fun (arrT %n2 (arrT %n0 f32)) (arrT %n2 (arrT %n1 f32)))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
// GUIDES
pub const SPLIT_GUIDE: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT %n1 f32)) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n1 f32))))) (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 f32)) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) f32) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun f32 (fun (arrT 4 (pairT f32 f32)) f32)) (fun f32 (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))) f32)))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun f32 (fun f32 f32))) (typeOf %e1 f32)) (fun f32 f32)) (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun f32 (fun (pairT f32 f32) f32)) (fun f32 (fun (arrT 4 (pairT f32 f32)) f32)))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun f32 (fun f32 f32))) (typeOf %e1 f32)) (fun f32 f32)) (typeOf (app (typeOf (app (typeOf mul (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 f32) f32)) (typeOf %e0 (pairT f32 f32))) f32)) (fun f32 f32)) (typeOf (app (typeOf snd (fun (pairT f32 f32) f32)) (typeOf %e0 (pairT f32 f32))) f32)) f32)) f32)) (fun (pairT f32 f32) f32))) (fun f32 (fun (pairT f32 f32) f32)))) (fun f32 (fun (arrT 4 (pairT f32 f32)) f32))) (typeOf 0.0 f32)) (fun (arrT 4 (pairT f32 f32)) f32)) (typeOf %e0 (arrT 4 (pairT f32 f32)))) f32)) f32)) (fun (arrT 4 (pairT f32 f32)) f32))) (fun f32 (fun (arrT 4 (pairT f32 f32)) f32)))) (fun f32 (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))) f32))) (typeOf 0.0 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))) f32)) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) f32)) (fun (arrT %n0 f32) f32))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT %n1 f32))) (fun (arrT %n0 f32) (arrT %n1 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const REORDER_1_GUIDE: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))))) (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))))) (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT f32 (pairT f32 f32)) f32) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 (pairT f32 f32)) f32)) (typeOf %e0 (pairT f32 (pairT f32 f32)))) f32)) (fun f32 f32)) (typeOf (app (typeOf (app (typeOf mul (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) (fun f32 f32)) (typeOf (app (typeOf snd (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) f32)) f32)) (fun (pairT f32 (pairT f32 f32)) f32))) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))))) (typeOf %e0 (arrT 32 (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))) (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32))))))) (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32)))))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))))) (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf (lam (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 (pairT f32 f32))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 (pairT f32 f32))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 (pairT f32 f32)))))) (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (arrT %n0 f32)))) (arrT 32 (arrT %n0 (pairT f32 f32))))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n0 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n0 f32)) (arrT %n0 (arrT %n0 f32))))))))";
pub const REORDER_2_GUIDE: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))))) (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))))) (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT f32 (pairT f32 f32)) f32) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 (pairT f32 f32)) f32)) (typeOf %e0 (pairT f32 (pairT f32 f32)))) f32)) (fun f32 f32)) (typeOf (app (typeOf (app (typeOf mul (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) (fun f32 f32)) (typeOf (app (typeOf snd (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) f32)) f32)) (fun (pairT f32 (pairT f32 f32)) f32))) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32)))) (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 4 (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (lam (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const STORE_GUIDE: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))))) (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))))) (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT f32 (pairT f32 f32)) f32) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 (pairT f32 f32)) f32)) (typeOf %e0 (pairT f32 (pairT f32 f32)))) f32)) (fun f32 f32)) (typeOf (app (typeOf (app (typeOf mul (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) (fun f32 f32)) (typeOf (app (typeOf snd (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) f32)) f32)) (fun (pairT f32 (pairT f32 f32)) f32))) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32)))) (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 4 (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (lam (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (app (typeOf let (fun (arrT %n1 (arrT %n0 f32)) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32))))) (typeOf (app (typeOf toMem (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 (arrT 32 f32)) (arrT 32 (arrT %n0 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32)))))) (typeOf transpose (fun (arrT %n0 (arrT 32 f32)) (arrT 32 (arrT %n0 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT 32 f32) (arrT 32 f32)) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32))))) (typeOf (app (typeOf map (fun (fun f32 f32) (fun (arrT 32 f32) (arrT 32 f32)))) (typeOf (lam (typeOf %e0 f32)) (fun f32 f32))) (fun (arrT 32 f32) (arrT 32 f32)))) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT %n0 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32)))))) (typeOf transpose (fun (arrT 32 (arrT %n0 f32)) (arrT %n0 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT %n0 (arrT 32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT %n1 (arrT %n0 f32)))) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (lam (typeOf %e0 (arrT %n1 (arrT %n0 f32)))) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";

// GOALS
pub const BASELINE_GOAL: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT %n1 f32)) (fun (arrT %n2 (arrT %n0 f32)) (arrT %n2 (arrT %n1 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) f32) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun f32 (fun (pairT f32 f32) f32)) (fun f32 (fun (arrT %n0 (pairT f32 f32)) f32)))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun f32 (fun f32 f32))) (typeOf %e1 f32)) (fun f32 f32)) (typeOf (app (typeOf (lam (typeOf (app (typeOf (app (typeOf mul (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 f32) f32)) (typeOf %e0 (pairT f32 f32))) f32)) (fun f32 f32)) (typeOf (app (typeOf snd (fun (pairT f32 f32) f32)) (typeOf %e0 (pairT f32 f32))) f32)) f32)) (fun (pairT f32 f32) f32)) (typeOf %e0 (pairT f32 f32))) f32)) f32)) (fun (pairT f32 f32) f32))) (fun f32 (fun (pairT f32 f32) f32)))) (fun f32 (fun (arrT %n0 (pairT f32 f32)) f32))) (typeOf 0.0 f32)) (fun (arrT %n0 (pairT f32 f32)) f32)) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) f32)) (fun (arrT %n0 f32) f32))) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 f32))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT %n1 f32))) (fun (arrT %n0 f32) (arrT %n1 f32)))) (fun (arrT %n2 (arrT %n0 f32)) (arrT %n2 (arrT %n1 f32)))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const BLOCKING_GOAL: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))))) (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))))) (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT f32 (pairT f32 f32)) f32) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 (pairT f32 f32)) f32)) (typeOf %e0 (pairT f32 (pairT f32 f32)))) f32)) (fun f32 f32)) (typeOf (app (typeOf (app (typeOf mul (fun f32 (fun f32 f32))) (typeOf (app (typeOf fst (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) (fun f32 f32)) (typeOf (app (typeOf snd (fun (pairT f32 f32) f32)) (typeOf (app (typeOf snd (fun (pairT f32 (pairT f32 f32)) (pairT f32 f32))) (typeOf %e0 (pairT f32 (pairT f32 f32)))) (pairT f32 f32))) f32)) f32)) f32)) (fun (pairT f32 (pairT f32 f32)) f32))) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))))) (typeOf %e0 (arrT 32 (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))) (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32))))))) (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32)))))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))))) (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf (lam (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 (pairT f32 f32))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 (pairT f32 f32))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 (pairT f32 f32)))))) (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (arrT %n0 f32)))) (arrT 32 (arrT %n0 (pairT f32 f32))))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const VECTORIZATION_GOAL: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))))) (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))))) (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf (app (typeOf mul (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (vecT 32 f32))) (vecT 32 f32))) (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))))) (typeOf %e0 (arrT 32 (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32)))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (pairT f32 f32))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf (lam (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))) (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32))))))) (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32)))))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf (lam (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (pairT (arrT 32 (arrT 32 f32)) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (arrT 32 (pairT f32 f32)))))) (arrT 4 (arrT 32 (arrT 32 (pairT f32 f32)))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf (lam (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 (pairT f32 f32))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 (pairT f32 f32))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 (pairT f32 f32)))))) (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (arrT %n0 f32)))) (arrT 32 (arrT %n0 (pairT f32 f32))))) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const LOOP_PERM_GOAL: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))))) (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))))) (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf (app (typeOf mul (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (vecT 32 f32))) (vecT 32 f32))) (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32)))) (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 4 (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (lam (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const ARRAY_PACKING_GOAL: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32)))) (typeOf (app (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf (app (typeOf mul (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (vecT 32 f32))) (vecT 32 f32))) (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32)))) (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 4 (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))) (arrT 32 (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (lam (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (app (typeOf let (fun (arrT %n1 (arrT %n0 f32)) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32))))) (typeOf (app (typeOf toMem (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf (app (typeOf mapPar (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32)))))) (typeOf (lam (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT 32 f32)) (arrT 32 (arrT %n0 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 f32) (arrT 32 f32)) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (vecT 32 f32) (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf %e0 (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf %e0 (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (arrT 32 f32) (arrT 32 f32)))) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT %n0 f32)) (arrT %n0 (arrT 32 f32)))) (typeOf %e0 (arrT 32 (arrT %n0 f32)))) (arrT %n0 (arrT 32 f32)))) (arrT %n0 (arrT 32 f32)))) (arrT 32 (arrT %n0 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT %n1 (arrT %n0 f32)))) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (lam (typeOf %e0 (arrT %n1 (arrT %n0 f32)))) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const CACHE_BLOCKS_GOAL: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32)))) (typeOf (app (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeqUnroll (fun (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf (app (typeOf mul (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (vecT 32 f32))) (vecT 32 f32))) (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32)))) (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 4 (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))) (arrT 32 (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (lam (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (app (typeOf let (fun (arrT %n1 (arrT %n0 f32)) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32))))) (typeOf (app (typeOf toMem (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf (app (typeOf mapPar (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32)))))) (typeOf (lam (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT 32 f32)) (arrT 32 (arrT %n0 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 f32) (arrT 32 f32)) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (vecT 32 f32) (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf %e0 (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf %e0 (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (arrT 32 f32) (arrT 32 f32)))) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT %n0 f32)) (arrT %n0 (arrT 32 f32)))) (typeOf %e0 (arrT 32 (arrT %n0 f32)))) (arrT %n0 (arrT 32 f32)))) (arrT %n0 (arrT 32 f32)))) (arrT 32 (arrT %n0 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT %n1 (arrT %n0 f32)))) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (lam (typeOf %e0 (arrT %n1 (arrT %n0 f32)))) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";
pub const PARALLEL_GOAL: &str = "(typeOf (natLam (typeOf (natLam (typeOf (natLam (typeOf (lam (typeOf (lam (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))) (arrT %n2 (arrT %n1 f32)))) (typeOf (app (typeOf (app (typeOf mapPar (fun (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT %n1 f32))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32))))) (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32)) (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))) (arrT 32 (arrT %n1 f32)))) (typeOf (app (typeOf transpose (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeq (fun (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf (app (typeOf reduceSeqUnroll (fun (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))))) (typeOf (lam (typeOf (lam (typeOf (app (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf add (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf (app (typeOf mul (fun (vecT 32 f32) (fun (vecT 32 f32) (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (vecT 32 f32)) (vecT 32 f32))) (typeOf (app (typeOf snd (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (pairT (vecT 32 f32) (vecT 32 f32)))) (typeOf %e0 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))) (pairT (vecT 32 f32) (vecT 32 f32)))) (vecT 32 f32))) (vecT 32 f32))) (vecT 32 f32))) (fun (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))) (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32))))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 1 (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32)))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 f32)) (pairT (arrT 32 f32) (arrT 32 f32)))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))) (arrT 32 (pairT f32 f32)))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (pairT f32 f32))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 (pairT f32 f32))))) (pairT (arrT 32 f32) (arrT 32 (pairT f32 f32))))) (arrT 32 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 f32)))) (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (pairT (vecT 32 f32) (vecT 32 f32))))) (arrT 1 (pairT (vecT 32 f32) (pairT (vecT 32 f32) (vecT 32 f32)))))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32)))))) (typeOf %e1 (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 (pairT f32 (pairT f32 f32))))) (typeOf %e0 (arrT 32 (pairT f32 f32)))) (arrT 32 (pairT f32 (pairT f32 f32))))) (arrT 32 f32))) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32)))) (fun (arrT 32 f32) (fun (arrT 32 (pairT f32 f32)) (arrT 32 f32))))) (fun (arrT 32 f32) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32)))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 4 (arrT 32 (pairT f32 f32))) (arrT 32 f32))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 4 (arrT 32 (pairT f32 f32))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf unzip (fun (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 f32) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf fst (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 f32))) (fun (arrT 32 (arrT 4 (pairT f32 f32))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (typeOf (app (typeOf snd (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 4 (pairT f32 f32))))) (typeOf %e0 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (pairT f32 (arrT 4 (pairT f32 f32)))))) (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 4 (arrT 32 (pairT f32 f32))))) (arrT 32 f32))) (fun (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 f32)))) (fun (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e1 (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (pairT (arrT 32 f32) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32)))) (arrT 32 (arrT 32 f32)))))) (fun (arrT 32 (arrT 32 f32)) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf generate (fun (fun (idxT 32) (arrT 32 f32)) (arrT 32 (arrT 32 f32)))) (typeOf (lam (typeOf (app (typeOf generate (fun (fun (idxT 32) f32) (arrT 32 f32))) (typeOf (lam (typeOf 0.0 f32)) (fun (idxT 32) f32))) (arrT 32 f32))) (fun (idxT 32) (arrT 32 f32)))) (arrT 32 (arrT 32 f32)))) (fun (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT 32 (arrT 32 f32)))) (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (arrT 32 (arrT 32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf %e0 (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT 32 f32))))) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT 32 f32))))) (arrT 32 (arrT %n1 f32)))) (fun (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (arrT 32 (arrT %n1 f32))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (lam (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (typeOf transpose (fun (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))))) (typeOf (app (typeOf map (fun (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (lam (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n1 (natMul (natPow 4 -1) %n0)) (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n1) (arrT %n0 (pairT f32 f32)))))) 4) (fun (arrT %n0 (pairT f32 f32)) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (typeOf (app (typeOf (app (typeOf zip (fun (arrT %n0 f32) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32))))) (typeOf %e1 (arrT %n0 f32))) (fun (arrT %n0 f32) (arrT %n0 (pairT f32 f32)))) (typeOf %e0 (arrT %n0 f32))) (arrT %n0 (pairT f32 f32)))) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32)))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (app (typeOf let (fun (arrT %n1 (arrT %n0 f32)) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32))))) (typeOf (app (typeOf toMem (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf join (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (app (typeOf (app (typeOf mapPar (fun (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 f32))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32)))))) (typeOf (lam (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT 32 f32)) (arrT 32 (arrT %n0 f32)))) (typeOf (app (typeOf (app (typeOf map (fun (fun (arrT 32 f32) (arrT 32 f32)) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32))))) (typeOf (lam (typeOf (app (typeOf asScalar (fun (arrT 1 (vecT 32 f32)) (arrT 32 f32))) (typeOf (app (typeOf (app (typeOf map (fun (fun (vecT 32 f32) (vecT 32 f32)) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (vecT 32 f32))))) (typeOf (lam (typeOf %e0 (vecT 32 f32))) (fun (vecT 32 f32) (vecT 32 f32)))) (fun (arrT 1 (vecT 32 f32)) (arrT 1 (vecT 32 f32)))) (typeOf (app (typeOf (natApp (typeOf asVector (natFun (fun (arrT %n0 f32) (arrT 1 (vecT %n0 f32))))) 32) (fun (arrT 32 f32) (arrT 1 (vecT 32 f32)))) (typeOf %e0 (arrT 32 f32))) (arrT 1 (vecT 32 f32)))) (arrT 1 (vecT 32 f32)))) (arrT 32 f32))) (fun (arrT 32 f32) (arrT 32 f32)))) (fun (arrT %n0 (arrT 32 f32)) (arrT %n0 (arrT 32 f32)))) (typeOf (app (typeOf transpose (fun (arrT 32 (arrT %n0 f32)) (arrT %n0 (arrT 32 f32)))) (typeOf %e0 (arrT 32 (arrT %n0 f32)))) (arrT %n0 (arrT 32 f32)))) (arrT %n0 (arrT 32 f32)))) (arrT 32 (arrT %n0 f32)))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT %n0 f32))))) (fun (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n2 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n1 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (typeOf (app (typeOf transpose (fun (arrT %n0 (arrT %n1 f32)) (arrT %n1 (arrT %n0 f32)))) (typeOf %e1 (arrT %n0 (arrT %n1 f32)))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT %n1 (arrT %n0 f32)))) (fun (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))) (arrT %n1 (arrT %n0 f32)))) (typeOf (lam (typeOf %e0 (arrT %n1 (arrT %n0 f32)))) (fun (arrT %n1 (arrT %n0 f32)) (arrT %n1 (arrT %n0 f32))))) (arrT %n1 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n1) (arrT 32 (arrT (natMul (natPow 4 -1) %n0) (arrT 4 (pairT f32 f32))))))) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))) (fun (arrT %n0 f32) (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32)))))))) (fun (arrT 32 (arrT %n0 f32)) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (fun (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (typeOf (app (typeOf (natApp (typeOf split (natFun (fun (arrT (natMul %n3 (natMul (natPow 32 -1) %n0)) (arrT %n1 f32)) (arrT (natMul (natPow 32 -1) %n3) (arrT %n0 (arrT %n1 f32)))))) 32) (fun (arrT %n2 (arrT %n0 f32)) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (typeOf %e1 (arrT %n2 (arrT %n0 f32)))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n0 f32))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT (natMul (natPow 32 -1) %n1) (arrT (natMul (natPow 4 -1) %n0) (arrT 32 (arrT 4 (pairT f32 f32))))))))) (arrT (natMul (natPow 32 -1) %n2) (arrT 32 (arrT %n1 f32))))) (arrT %n2 (arrT %n1 f32)))) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))) (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))) (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))) (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32)))))))) (natFun (natFun (natFun (fun (arrT %n2 (arrT %n0 f32)) (fun (arrT %n0 (arrT %n1 f32)) (arrT %n2 (arrT %n1 f32))))))))";

#[cfg(test)]
mod test {
    use super::*;

    #[test]
    fn mm_first() {
        let mm: RecExpr<Rise> = MM.parse().unwrap();
        println!("mm nodes: {}", mm.len());
    }

    #[test]
    fn mm_terms_parse() {
        // START TERM
        let mm: RecExpr<Rise> = MM.parse().unwrap();
        println!("mm nodes: {}", mm.len());

        // GUIDES
        let split_guide: RecExpr<Rise> = SPLIT_GUIDE.parse().unwrap();
        println!("split_guide nodes: {}", split_guide.len());
        let reorder_1_guide: RecExpr<Rise> = REORDER_1_GUIDE.parse().unwrap();
        println!("reorder_1_guide nodes: {}", reorder_1_guide.len());
        let reorder_2_guide: RecExpr<Rise> = REORDER_2_GUIDE.parse().unwrap();
        println!("reorder_2_guide nodes: {}", reorder_2_guide.len());
        let store_guide: RecExpr<Rise> = STORE_GUIDE.parse().unwrap();
        println!("store_guide nodes: {}", store_guide.len());

        // GOALS
        let baseline_goal: RecExpr<Rise> = BASELINE_GOAL.parse().unwrap();
        println!("baseline_goal nodes: {}", baseline_goal.len());
        let blocking_goal: RecExpr<Rise> = BLOCKING_GOAL.parse().unwrap();
        println!("blocking_goal: {}", blocking_goal.len());
        let vectorization_goal: RecExpr<Rise> = VECTORIZATION_GOAL.parse().unwrap();
        println!("vectorization_goal: {}", vectorization_goal.len());
        let loop_perm_goal: RecExpr<Rise> = LOOP_PERM_GOAL.parse().unwrap();
        println!("loop_perm_goal nodes: {}", loop_perm_goal.len());
        let array_packing_goal: RecExpr<Rise> = ARRAY_PACKING_GOAL.parse().unwrap();
        println!("array_packing_goal: {}", array_packing_goal.len());
        let cache_blocks_goal: RecExpr<Rise> = CACHE_BLOCKS_GOAL.parse().unwrap();
        println!("cache_blocks_goal {}", cache_blocks_goal.len());
        let parallel_goal: RecExpr<Rise> = PARALLEL_GOAL.parse().unwrap();
        println!("parallel_goal: {}", parallel_goal.len());
    }
}
